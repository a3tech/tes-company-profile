{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/a3/new_journey_2025/CompanyProfile/fe_next_js/app/page.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\nfunction truncate(text, length = 120) {\n  if (!text) return \"\";\n  return text.length > length ? text.slice(0, length) + \"...\" : text;\n}\n\nexport default function Home() {\n  const [articles, setArticles] = useState([]);\n  const [projects, setProjects] = useState([]);\n\n  // Pagination states\n  const [articlePage, setArticlePage] = useState(1);\n  const [projectPage, setProjectPage] = useState(1);\n\n  const limit = 3; // per page items\n\n  useEffect(() => {\n    fetchArticles(articlePage);\n    fetchProjects(projectPage);\n  }, [articlePage, projectPage]);\n\n  async function fetchArticles(pg) {\n    try {\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/articles?page=${pg}&limit=${limit}`\n      );\n      const data = await res.json();\n      setArticles(data.data || []);\n    } catch (e) {\n      console.error(\"Error fetching articles:\", e);\n    }\n  }\n\n  async function fetchProjects(pg) {\n    try {\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/projects?page=${pg}&limit=${limit}`\n      );\n      const data = await res.json();\n      setProjects(data.data || []);\n    } catch (e) {\n      console.error(\"Error fetching projects:\", e);\n    }\n  }\n\n  return (\n    <>\n      {/* HEADER */}\n      <header className=\"bg-dark text-white p-3\">\n        <div className=\"container d-flex justify-content-between align-items-center\">\n          <h2>Company Profile</h2>\n          <nav>\n            <Link href=\"/articles\" className=\"text-white me-3\">Articles</Link>\n            <Link href=\"/projects\" className=\"text-white\">Projects</Link>\n          </nav>\n        </div>\n      </header>\n\n      {/* MAIN CONTENT */}\n      <main className=\"container mt-5\">\n\n        {/* ARTICLE SECTION */}\n        <section className=\"mb-5\">\n          <h3 className=\"mb-3\">Latest Articles</h3>\n          <div className=\"row\">\n            {articles.map((a) => (\n              <div className=\"col-md-4 mb-4\" key={a._id}>\n                <div className=\"card h-100\">\n                  <img\n                    src={a.image || \"/default-article.jpg\"}\n                    className=\"card-img-top\"\n                    alt={a.title}\n                    style={{ height: \"180px\", objectFit: \"cover\" }}\n                  />\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\">{a.title}</h5>\n                    <p className=\"card-text\">{truncate(a.content)}</p>\n                    <Link href={`/articles/${a._id}`} className=\"btn btn-primary\">\n                      Read More\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* PAGINATION ARTICLES */}\n          <div className=\"d-flex gap-2\">\n            <button\n              className=\"btn btn-secondary\"\n              disabled={articlePage === 1}\n              onClick={() => setArticlePage(articlePage - 1)}\n            >\n              Prev\n            </button>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => setArticlePage(articlePage + 1)}\n            >\n              Next\n            </button>\n          </div>\n        </section>\n\n        {/* PROJECT SECTION */}\n        <section className=\"mt-5 mb-5\">\n          <h3 className=\"mb-3\">Latest Projects</h3>\n          <div className=\"row\">\n            {projects.map((p) => (\n              <div className=\"col-md-4 mb-4\" key={p._id}>\n                <div className=\"card h-100\">\n                  <img\n                    src={p.image || \"/default-project.jpg\"}\n                    className=\"card-img-top\"\n                    alt={p.title}\n                    style={{ height: \"180px\", objectFit: \"cover\" }}\n                  />\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\">{p.title}</h5>\n                    <p className=\"card-text\">{truncate(p.description)}</p>\n                    <Link href={`/projects/${p._id}`} className=\"btn btn-primary\">\n                      View Project\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* PAGINATION PROJECTS */}\n          <div className=\"d-flex gap-2\">\n            <button\n              className=\"btn btn-secondary\"\n              disabled={projectPage === 1}\n              onClick={() => setProjectPage(projectPage - 1)}\n            >\n              Prev\n            </button>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => setProjectPage(projectPage + 1)}\n            >\n              Next\n            </button>\n          </div>\n        </section>\n      </main>\n\n      {/* FOOTER */}\n      <footer className=\"bg-dark text-white text-center p-3\">\n        <p>Â© {new Date().getFullYear()} Company Profile. All Rights Reserved.</p>\n      </footer>\n    </>\n  );\n}"],"names":[],"mappings":"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"}}]
}